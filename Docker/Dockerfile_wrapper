FROM centos:7

# Install Python & Packages


# RUN echo "proxy=https://192.168.201.1:3128" >> /etc/yum.conf 

RUN yum -y update && yum -y install python3-3.6.8 python3-devel-3.6.8 gcc-4.8.5 yum-utils && package-cleanup --leaves --all

COPY Docker/requirements.txt ./
RUN pip3 install  -r requirements.txt

# Install code
#

RUN mkdir /NominatimWrapper
WORKDIR /NominatimWrapper
COPY *.py ./

ENV LANG en_US.UTF-8  
ENV LANGUAGE en_US:en  
ENV LC_ALL en_US.UTF-8     

WORKDIR /


COPY Docker/start.sh /start.sh
CMD ["/start.sh", "wrapper"]

EXPOSE 5000
